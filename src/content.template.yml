welcome: # this is the #welcome bloc referenced in index.js
  - on: facebook
    image: <%=staticUrl%>img/andy-hello.png
  - typing: true
    text: I'm AndyBot! Pleased to meet you!
  - text: Let's get started on an amazing summer adventure.
    typing: 2s
    quick_replies:
      - <<%=postbacks.HOW_TO_PLAY%>> How to Play
      - <<%=postbacks.BEGIN_ADVENTURE%>> Let's Begin

checkin-stamp:
  - on: facebook
    image: <%=staticUrl%>img/{{image}}
  - typing: true
    text: "{{text}}"

welcome-back: # this is the #welcome bloc referenced in index.js
  - typing: true
    text: Hey {{user.name}}! Good to see you again.
  - typing: true
    text: Let's continue our summer adventure.
    quick_replies:
      - <<%=postbacks.HOW_TO_PLAY%>> How to Play
      - <<%=postbacks.BEGIN_ADVENTURE%>> Let's Go

error:
  - typing: true
    text: This is embarassing...looks like something went wrong. Please try again later.


how_to_play:
  - typing: true
    text: Glad you asked. Here is some more information on how to play the game
  - on: facebook
    template_type: "generic"
    elements:
      -
        title: "How to Play"
        image_url: "<%=staticUrl%>img/andy-how-to-play.png"
        buttons:
          -
            type: "web_url"
            title: "Getting Started"
            url: "http://carnegiebot.s3-website.us-east-2.amazonaws.com/"
          -
            type: "web_url"
            url: "http://carnegiemuseums.org/about-us/"
            title: "About CMP"
          -
            type: "postback"
            title: "Prizes"
            payload: "PRIZES"

activities:
  - typing: true
    text: "Here are some activities you can take part in"
  - on: facebook
    template_type: "generic"
    elements:
      {{#activities}}
      - 
        subtitle: "{{subtitle}}"
        title: "{{title}}"
        image_url: "<%=staticUrl%>img/{{image}}"
        buttons:
          -
            type: "postback"
            title: "Start Activitiy"
            payload: "START_ACTIVITY:{{activity}}"
      {{/activities}}


more-activities:
  - typing: true
    text: "That was awesome. Keep the adventure going with more activities."
  - on: facebook
    template_type: "generic"
    elements:
      {{#activities}}
      - 
        subtitle: "{{subtitle}}"
        title: "{{title}}"
        image_url: "<%=staticUrl%>img/{{image}}"
        buttons:
          -
            type: "postback"
            title: "Start Activitiy"
            payload: "START_ACTIVITY:{{activity}}"
      {{/activities}}


unknown-selection:
  - typing: 1s
    text: "I'm not quite sure what you meant by that. Try using the quick replies or menu options below."
# activities:
#   - typing: true
#     text: Here are some activities you can take part in
#   - on: facebook
#     template_type: "list"
#     top_element_style: "large"
#     elements:
#       {{#activities}}
#       - 
#         subtitle: "{{subtitle}}"
#         title: "{{title}}"
#         image_url: "<%=staticUrl%>img/{{image}}"
#         buttons:
#           -
#             type: "postback"
#             title: "Start Activitiy"
#             payload: "START_ACTIVITY:{{activity}}"
#       {{/activities}}
#     buttons:
#       -
#         title: "View More"
#         type: "postback"
#         payload: "MORE_ACTIVITIES"

poll-time:
  - on: facebook
    template_type: "generic"
    elements:
      - 
        title: "You started the {{name}}"
        image_url: "<%=staticUrl%>img/andy-what-you-think.png?time=1234"
        subtitle: "This activity takes about {{numQuestions}} minute(s) to complete."
        buttons:
          -
            type: "postback"
            title: "End Poll"
            payload: "STOP_CONVO"


poll-question:
  - text: "Question {{questionNumber}} - {{question}}"
    typing: 1s
  - on: facebook
    template_type: "generic"
    elements:
      {{#choices}}
      -
        title: "Option {{choiceNumber}}"
        subtitle: "{{text}}"
        image_url: "<%=staticUrl%>img/{{image}}?invalidate=1"
        buttons:
          -
            type: "postback"
            title: "Select {{text}}"
            payload: "SELECT:{{choiceIndex}}"
      {{/choices}}

poll-followup:
  - text: "{{feedback}} {{text}}"
    typing: 1s

poll-complete:
  - typing: true
    text: You're done! Thanks for completing the poll.


trivia-time:
  - on: facebook
    template_type: "generic"
    elements:
      - 
        subtitle: "You started the {{name}} trivia set. This activity takes {{numQuestions}} minutes."
        title: "It's trivia time!"
        image_url: "<%=staticUrl%>img/andy-trivia-time.png"
        buttons:
          -
            type: "postback"
            title: "End Trivia"
            payload: "STOP_CONVO"

trivia-followup:
  - text: "{{feedback}} {{text}}"
    typing: 1s

trivia-followup-short:
  - text: '{{feedback}}'
    typing: 1s

activity_ended:
  - text: "Your previous activity has been ended"
    typing: 1s


trivia-question:
  - text: "Question {{questionNumber}}"
    typing: 1s
  - on: facebook
    image: "<%=staticUrl%>img/{{question.image}}"
  - on: facebook
    template_type: "button"
    text: "{{question.text}}"
    buttons:
      {{#choices}}
      -
        type: "postback"
        title: "{{.}}"
        payload: "SELECT:{{@index}}"
      {{/choices}}

trivia-question-short:
  - on: facebook
    image: "<%=staticUrl%>img/{{question.image}}"
  - on: facebook
    template_type: "button"
    text: "Question {{questionNumber}}"
    buttons:
      {{#choices}}
      -
        type: "postback"
        title: "{{.}}"
        payload: "SELECT:{{@index}}"
      {{/choices}}

trivia-question-no-image:
  - text: "Question {{questionNumber}}"
    typing: 1s
  - on: facebook
    template_type: "button"
    text: "{{question.text}}"
    buttons:
      {{#choices}}
      -
        type: "postback"
        title: "{{.}}"
        payload: "SELECT:{{@index}}"
      {{/choices}}



trivia-complete:
  - typing: true
    text: Thats it! You did amazing.


achievement-unlocked:
  - typing: true
    text: You earned {{reward}} points and unlocked new achievements!!
  - on: facebook
    template_type: "generic"
    elements:
      {{#achievements}}
      - 
        subtitle: "{{description}}"
        title: "{{displayName}}"
        image_url: "<%=staticUrl%>img/{{image}}"
      {{/achievements}}


prizes:
  - |
    By participating in Summer Adventure, you have a chance to win

      - Free museum memberships
      - Gifts from the museum shop
      - Muffins from Carnegie Cafe
  - text: Lets get started when you're ready
    typing: 2s
    quick_replies:
      - <<%=postbacks.BEGIN_ADVENTURE%>> Lets Begin  
goodbye:
  - text: You are leaving because of reason {{reason}}
    typing: true
  - Hope to see you back again soon! # if no other properties, you can just send a strings

askStopConvo:
  - template_type: button
    text: You have another activity in progress. You must first end the previous activity.
    buttons:
      - <STOP_CONVO> End Activity



daily_scan_limit_reached:
  - text: You have reached the scan limit for this location. Try again tomorrow.
    typing: 2s

stamp_unlock:


  - on: facebook
    template_type: "generic"
    elements:
      -
        title: "{{text}}"
        image_url: <%=staticUrl%>img/{{image}}
        buttons:
          -
            type: "web_url"
            title: "My Stamps"
            messenger_extensions: true
            url: "https://dev.andybot.org/me"


scavengerhunt-firstclue:
  - template_type: button
    text: "You found the first clue in the Scavenger Hunt!\n\n{{clue}}"
    buttons:
      -
        type: "postback"
        title: "Hint"
        payload: "SCAVENGER_HUNT_HINT:{{clueNumber}}"
            

scavengerhunt-clue:
  - template_type: button
    text: "You found clue number {{clueNumber}}!\n\n{{clue}}"
    buttons:
      -
        type: "postback"
        title: "Hint"
        payload: "SCAVENGER_HUNT_HINT:{{clueNumber}}"

scavengerhunt-followup-clue:
  - template_type: button
    text: "You found clue number {{clueNumber}}! {{followup}}\n\n{{clue}}"
    buttons:
      -
        type: "postback"
        title: "Hint"
        payload: "SCAVENGER_HUNT_HINT:{{clueNumber}}"


scavengerhunt-followup:
  - typing: 2s
    text: "{{followup}}"

scavengerhunt-hint:
  - typing: 2s
    text: "{{hint}}"